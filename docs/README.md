# CS-Explorer应用更新说明

## 🗑️ 清理不必要的文件

本次提交专注于**精简项目文件结构**，移除了一些不再需要的文件和目录，从而提升项目的整洁度和可维护性。以下是具体变更内容：

*   **移除`.gitignore`中的条目**:
    *   `node_modules`、`.vscode`、`out`、`dist`、`release`：这些目录通常在CI/CD流程中由构建脚本管理，不再需要显式忽略。
    *   日志文件 (`npm-debug.log*`, `yarn-debug.log*`, `yarn-error.log*`)：假设项目已迁移至更现代的日志管理方案，或这些日志不再需要长期保留。
    *   构建输出 (`dist-electron`)：可能是特定构建阶段的遗留文件，已不再使用。
    *   图标文件 (`resources/icon.ico`)：项目可能已更换图标或采用其他资源管理方式。
    *   临时文件 (`src/version.json`)：该文件可能已整合到其他配置中，或不再需要作为独立文件存在。

通过这次清理，我们减少了不必要的文件干扰，使`.gitignore`文件更加简洁明了，同时也避免了潜在的错误引入。这是一个**维护性优化**，有助于长期项目的健康运行。

`🛠️ 功能优化`
<!-- 2d53ce8 at https://github.com/JiQingzhe2004/R2APP/commit/2d53ce8db3d3bd95c41d4a866ce9de00b619ea2e -->

---

## 📝 新增更新日志页面

本次提交带来了全新的**更新日志页面**，并对其进行了全面优化。我们不仅为主应用布局进行了调整，还在侧边栏中添加了指向更新日志的链接，让用户能够更便捷地获取最新信息。

### 变更摘要

*   **🆕 新功能**: 我们成功添加了**更新日志页面**，这是一个重要的功能增强，旨在为用户提供集中查看应用更新和变更的机会。通过这个页面，用户可以轻松了解每个版本的改动内容，从而更好地掌握应用的最新动态。

*   **✨ 功能优化**: 对**主应用布局**进行了细致的调整，使其更加符合用户体验的期望。我们确保了页面元素之间的间距和排列更加合理，提升了整体视觉效果的和谐性。

*   **✨ 功能优化**: 在**侧边栏**中新增了**“更新日志”**链接，用户现在可以通过侧边栏直接访问更新日志页面，无需多步操作。这一改进不仅简化了用户的操作流程，还提高了信息获取的效率。

### 分类和图标

*   **🆕 新功能**: 新增更新日志页面，提供集中查看应用更新的新途径。
*   **✨ 功能优化**: 优化主应用布局，提升用户体验和视觉效果。
*   **✨ 功能优化**: 在侧边栏添加更新日志链接，方便用户快速访问。

通过这些改进，我们不仅增强了应用的功能性，还提升了用户的使用体验。我们相信，这些变化将为用户带来更加流畅和便捷的操作感受。
<!-- 57a9b91 at https://github.com/JiQingzhe2004/R2APP/commit/57a9b9191f00267ef459c933b0df1f421e7051a7 -->

---

## 📜 添加项目许可证

本次提交为项目添加了必要的许可证文件，确保了项目的法律合规性和透明度。许可证文件采用了MIT License，这是一种非常宽松的开源许可证，允许用户自由使用、修改和分发软件，只需满足在分发时包含版权声明和许可声明的条件。

### 变更摘要

添加许可证文件是项目发布过程中的重要步骤，它明确了项目的使用权限和责任范围。通过采用MIT License，我们为项目的使用者提供了最大的自由度，同时也保护了项目的知识产权。

- **许可证内容**: 许可证文件详细说明了用户在使用、修改和分发项目时的权利和义务。具体包括：
  - 使用权：用户可以自由使用该软件，无论用于商业还是非商业目的。
  - 复制权：用户可以复制该软件的副本。
  - 修改权：用户可以修改该软件。
  - 分发权：用户可以分发该软件的副本。
  - 许可证声明：在分发时必须包含原始的版权声明和许可证声明。

- **许可证优势**: MIT License的优势在于其简洁和宽松的条件，这使得项目更容易被集成到其他项目中，同时也减少了使用者的法律风险。

### 分类和图标

- `📜 文档更新`
- `其他`

通过这次提交，我们确保了项目在法律上是健全的，并为项目的使用者提供了明确的使用指南。这不仅有助于项目的长期维护，也为项目的使用者提供了更好的使用体验。
<!-- 070eaa3 at https://github.com/JiQingzhe2004/R2APP/commit/070eaa3de84fa03b7245cb6f7707a1ff8d26d24c -->

---

## ✨ 功能优化

本次更新主要聚焦于提升应用的用户体验和内部构建流程的健壮性。我们不仅优化了应用的版本管理机制，还改进了用户界面的信息展示，让用户能够更直观地了解应用当前运行的版本信息。

### 变更分类:
- `✨ 功能优化`
- `🐞 Bug修复`

### 详细说明:

#### 1. **更新 `.gitignore` 文件**
    我们对 `.gitignore` 文件进行了扩展，以排除重要的日志和构建输出文件。这有助于保持代码仓库的整洁，避免不必要的文件被提交到版本控制系统中。
    ```markdown
    # Log files
    npm-debug.log*
    yarn-debug.log*
    yarn-error.log*

    # Build output
    dist-electron

    # icon
    resources/icon.ico

    # temp file
    src/version.json
    ```

#### 2. **修改 `package.json` 中的构建脚本**
    我们在 `package.json` 中修改了构建脚本，以在构建过程中注入版本信息。这确保了每次构建的应用都能够携带正确的版本号，便于追踪和管理。
    ```json
    "scripts": {
      "dev": "node ./scripts/inject-version.cjs && electron-vite dev",
      "build": "node ./scripts/inject-version.cjs && electron-vite build",
      // 其他脚本保持不变
    }
    ```

#### 3. **新增 `inject-version.cjs` 脚本**
    我们新增了一个 `inject-version.cjs` 脚本，用于生成并注入版本文件。这个脚本会读取环境变量中的版本号，如果没有提供，则会生成一个开发版本号。
    ```javascript
    const fs = require('fs');
    const path = require('path');

    const version = process.env.VERSION || `dev-${new Date().toISOString()}`;
    const versionData = { version };

    const outputPath = path.join(__dirname, '../src/version.json');
    fs.writeFileSync(outputPath, JSON.stringify(versionData, null, 2));
    console.log(`Version ${version} injected into ${outputPath}`);
    ```

#### 4. **在 About 页面中显示应用版本信息**
    我们在 `About` 页面中添加了应用版本信息的展示，让用户能够轻松查看当前运行的版本。同时，我们还优化了用户界面的布局和样式，提升了整体的用户体验。
    ```jsx
    import versionData from '@/version.json';

    export default function AboutPage() {
      const [appInfo, setAppInfo] = useState({
        name: 'R2 存储管理器',
        version: versionData.version,
        // 其他信息
      });

      // UI 布局优化
      <div className="text-center mt-6 text-xs text-muted-foreground space-y-2">
         <div className="flex items-center justify-center gap-x-4">
            <span>版本: {versionData.version}</span>
            <div className="h-3 w-px bg-border" />
            <a href={appInfo.githubUrl ? `${appInfo.githubUrl}/issues` : "#"} target="_blank" rel="noopener noreferrer" className="flex items-center gap-1 hover:text-primary transition-colors">
              <Github size={12} />
              <span>提交 Issue</span>
            </a>
        </div>
        <p>
          Copyright © {new Date().getFullYear()} {appInfo.author}. All Rights Reserved.
        </p>
      </div>
    }
    ```

通过这些更新，我们不仅提升了应用的内部构建流程的自动化和健壮性，还增强了用户对应用版本信息的了解，从而提升了整体的用户体验。
<!-- 100329b at https://github.com/JiQingzhe2004/R2APP/commit/100329be787efa753a624b7c6ecb241f6d5c1e8b -->

---

## 🚀 v3.0.0

本次更新带来了令人兴奋的新功能和用户体验优化，标志着我们应用的一次重要飞跃。以下是本次版本的主要变更：

### 变更摘要

我们非常高兴地向大家宣布 **CS-Explorer** 正式更新至 **v3.0.0**！这次更新不仅提升了应用的稳定性，还引入了多项新功能，旨在让用户能够更高效地管理在线云存储。

#### 🆕 新功能

-   **文件预览组件新增复制代码到剪贴板功能**: 现在，用户可以轻松地将代码内容复制到剪贴板，极大地提升了工作效率和便捷性。这一功能通过点击新增的复制按钮实现，操作简单直观。

#### ✨ 功能优化

-   **优化用户体验**: 我们对文件预览组件进行了优化，引入了复制图标，增强了界面的交互性。用户现在可以更直观地看到可执行的操作，提升了整体使用的愉悦感。
-   **界面交互性增强**: 通过引入 `Copy` 图标，我们不仅美化了界面，还让用户能够更快速地识别可用的功能，使得整个应用更加现代化和用户友好。

#### 🐞 Bug修复

-   **无**: 本次版本中未特别标注的bug修复，但内部优化和稳定性提升已经融入本次发布中。

### 其他

-   **版本号更新**: 应用版本已更新至 `v3.0.0`，标志着新的一次重大发布。

我们相信，这些更新将为您带来更好的使用体验。感谢您的持续支持，我们期待您的反馈，并将在未来的版本中继续为您带来更多惊喜！
<!-- 1031df0 at https://github.com/JiQingzhe2004/R2APP/commit/1031df01689f39efdfa178fa0b5a117fdc303d35 -->

---

## 🚀 新增文件预览功能

本次提交为应用带来了令人兴奋的文件预览功能，极大地提升了用户体验。现在，用户可以直接在文件页面中预览代码和图片文件，无需跳转或使用外部工具。这一改进不仅节省了时间，还使得文件内容的查看更加便捷和直观。

### 变更摘要

我们引入了全新的文件预览功能，支持对代码和图片文件进行实时预览。这一功能通过在文件页面中集成文件预览组件得以实现，极大地优化了用户的操作流程。

具体来说，我们实现了以下关键功能：

- **文件内容获取接口**: 新增了 `get-object-content` 接口，用于异步获取存储对象的内容。该接口支持对 R2 和 OSS 存储类型的文件进行处理，并能根据文件大小自动判断是否可预览（文件过大时将返回错误提示）。
- **预览组件集成**: 在 `electron/preload/index.mjs` 中，我们添加了对 `getObjectContent` 接口的调用，使得前端能够通过 IPC 请求后端获取文件内容并进行预览。
- **依赖项更新**: 为了支持代码文件的高亮显示，我们引入了 `react-syntax-highlighter` 库，并更新了 `package-lock.json` 中的依赖项。

这些改进不仅增强了应用的功能性，还提升了代码的可读性和维护性。通过引入 `react-syntax-highlighter`，我们能够为代码文件提供美观且可定制的高亮显示效果，从而帮助用户更好地理解和阅读代码。

### 分类和图标

- `🆕 新功能`: 文件预览功能是本次提交的核心新增功能，为用户提供了更加便捷的文件查看体验。
- `✨ 功能优化`: 通过集成文件预览组件和优化代码高亮显示，我们提升了应用的易用性和美观度。
- `🐞 Bug修复`: 虽然本次提交主要聚焦于新功能，但我们对文件内容获取逻辑进行了优化，确保了预览功能的稳定性和可靠性。
- `其他`: 更新了项目依赖项，引入了 `react-syntax-highlighter` 库，为未来的功能扩展奠定了基础。

通过这些改进，我们相信用户能够享受到更加流畅和高效的文件预览体验。
<!-- 71f832c at https://github.com/JiQingzhe2004/R2APP/commit/71f832c295634a85e78416bb7113b82450071990 -->

---

## 🚀 新增文件夹管理功能

本次更新带来了全新的文件夹管理功能，极大地提升了文件组织的灵活性和效率。我们不仅支持了文件的创建和删除，还对文件列表显示进行了优化，现在可以清晰地区分文件夹和文件。同时，文件上传逻辑也得到了改进，用户可以选择特定的文件夹进行上传，而不再是简单的文件上传。此外，我们还调整了文件删除逻辑，支持文件夹的批量删除操作，让文件管理更加便捷。

### 变更摘要

*   **🆕 新功能**: 新增了文件夹的创建和删除功能，让用户可以更加灵活地组织文件。
*   **✨ 功能优化**: 优化了文件列表显示，现在可以清晰地区分文件夹和文件，提升用户体验。
*   **✨ 功能优化**: 更新了文件上传逻辑，支持选择文件夹进行上传，简化上传流程。
*   **✨ 功能优化**: 调整了文件删除逻辑，支持文件夹的删除操作，提高文件管理效率。
*   **✨ 功能优化**: 更新了依赖项，添加了 `@radix-ui/react-separator` 组件，以增强UI效果，使界面更加现代化和美观。

### 代码变更说明

在 `index.js` 文件中，我们增加了对文件夹操作的支持，包括 `list-objects`、`delete-folder` 和 `create-folder` 等API。这些API允许用户列出文件夹和文件、删除文件夹及其内容，以及创建新的文件夹。此外，我们还更新了文件上传逻辑，使其支持选择文件夹进行上传。

在 `index.mjs` 文件中，我们添加了对新功能的支持，包括 `deleteFolder` 和 `createFolder` 等API的调用。这些API使得前端可以方便地与后端进行交互，实现文件夹的创建和删除操作。

通过这些变更，我们不仅提升了文件管理的灵活性，还优化了用户体验，使文件管理更加高效和便捷。
<!-- ccb3eac at https://github.com/JiQingzhe2004/R2APP/commit/ccb3eac0c6a69e41794be4ea9f59056bc31051f5 -->

---

## 🚀 v2.0.1

本次更新为应用带来了翻天覆地的变化，不仅升级了版本，还引入了多项令人兴奋的新功能和优化。以下是本次更新的详细内容：

### 变更摘要

*   **应用名称变更**: 应用名称已正式升级为 **CS-Explorer**，标志着全新的开始和更专业的定位。`🆕 新功能`
*   **版本升级**: 版本号更新至 **2.0.1**，代表着更稳定、更强大的体验。`🆕 新功能`
*   **新增最近活动记录功能**: 引入了强大的 **最近活动记录** 功能，能够捕捉并展示用户的上传、下载和删除操作。这将为用户提供更清晰的轨迹追踪，让每一次操作都无所遁形。`🆕 新功能`
*   **仪表盘优化**: 仪表盘经过精心优化，现在不仅显示存储使用情况，还同步展示最近的操作活动。让数据一目了然，管理更加便捷。`✨ 功能优化`
*   **设置页面增强**: 设置页面新增了对存储配额的配置选项，用户可以根据需求灵活调整，提升个性化体验。`✨ 功能优化`
*   **用户体验提升**: 通过上述改动，整体用户体验得到了显著提升，操作更加流畅，信息更加透明。`✨ 功能优化`
*   **Bug修复**: 修复了一些潜在的bug，确保应用的稳定性和可靠性。`🐞 Bug修复`

### 具体变更

*   **应用名称与版本**: 应用名称已从 `r2-explorer` 更改为 `CS-Explorer`，版本号更新至 `2.0.1`。`🆕 新功能`
*   **最近活动记录**: 新增了 `addRecentActivity` 函数，用于记录用户的上传、下载和删除操作，并在本地存储中保留最近20条活动记录。`🆕 新功能`
*   **仪表盘优化**: 优化了 `getBucketStats` 函数，使其能够更准确地统计存储使用情况，并在返回数据中包含存储桶名称和配额信息。`✨ 功能优化`
*   **设置页面增强**: 在 `preload/index.mjs` 中新增了 `getRecentActivities` 接口，允许前端获取最近的活动记录。`✨ 功能优化`
*   **窗口状态管理**: 在 `preload/index.mjs` 中新增了 `isWindowMaximized` 和 `onWindowMaximizedStatusChanged` 接口，用于管理窗口的最大化状态。`✨ 功能优化`
*   **Bug修复**: 修复了一些潜在的bug，确保应用的稳定性和可靠性。`🐞 Bug修复`

### 总结

本次更新不仅带来了全新的应用名称和版本，还引入了多项实用的新功能和优化，让 CS-Explorer 更加完善和易用。我们相信，这些改进将为用户带来更好的体验，让数据管理更加高效和便捷。`🎉`
<!-- 48117cc at https://github.com/JiQingzhe2004/R2APP/commit/48117cc0f853359c74720768918932d9ac241033 -->

---

## 🚀 v2.0.1

本次更新带来了多项改进和优化，旨在提升用户体验和应用的稳定性。以下是本次版本的主要变更：

### 变更摘要

我们迎来了 `v2.0.1` 版本，这是一个充满活力的更新，专注于提升用户交互和视觉体验。

- **头部组件的配置选择功能优化** 🆕
  - 我们对头部组件的配置选择功能进行了彻底的重新设计，引入了**单选框**来替代原有的下拉菜单项。这一改变不仅使选择过程更加直观，还显著提升了用户的操作便捷性。现在，用户可以更轻松地切换不同的配置，享受更加流畅的体验。

- **文件名显示方式的调整** ✨
  - 在文件页面，我们对文件名的显示方式进行了优化。为了适应不同长度的文件名，我们增加了**截断效果**。当文件名过长时，会自动截断并显示省略号，同时鼠标悬停时会显示完整文件名。这一改进不仅美化了界面，还避免了文件名过长导致的布局问题。

- **关于页面GitHub链接的更新** 🔄
  - 我们更新了关于页面中的GitHub链接，将其指向了最新的仓库地址。现在，用户可以更方便地访问项目的官方GitHub页面，获取最新的项目信息和社区资源。

这些变更共同构成了 `v2.0.1` 版本的核心内容，我们相信这些改进将为用户带来更加优质的使用体验。感谢您的持续关注和支持！
<!-- d3ac191 at https://github.com/JiQingzhe2004/R2APP/commit/d3ac1915e8beaf963eb4ce3df2e89345e945eafd -->

---

## ✨ 应用更新与视觉优化

本次提交带来了应用层面的重大更新，旨在提升用户体验和品牌形象。我们不仅升级了应用名称和版本，还优化了描述以更好地反映其核心功能，并替换了应用图标和LOGO，使整体视觉效果焕然一新。

### 变更摘要

*   **应用名称变更**: 从 `r2-explorer` 更新为 `CS-Explorer`，标志着应用功能范围的扩展，不再局限于Cloudflare R2存储，而是扩展到更广泛的在线云存储管理。
*   **版本号更新**: 从 `1.0.0` 升级至 `2.0.0`，象征着一次重要的版本迭代，包含了显著的更新和改进。
*   **描述优化**: 描述从 "一个用于管理Cloudflare R2存储的现代化桌面应用。" 修改为 "一个用于管理在线云存储的现代化桌面应用。"，更准确地传达了应用的通用性和新功能。
*   **视觉元素升级**: 替换了应用图标和LOGO，旨在提升应用的视觉吸引力和品牌辨识度，为用户带来更愉悦的视觉体验。

### 分类和图标

*   `✨ 功能优化` - 应用名称和版本的更新体现了功能的扩展和版本的迭代。
*   `✨ 功能优化` - 描述的优化更清晰地传达了应用的价值和范围。
*   `✨ 功能优化` - 图标和LOGO的替换提升了应用的整体视觉效果和品牌形象。
<!-- 8027d10 at https://github.com/JiQingzhe2004/R2APP/commit/8027d10dce10e71d206c7c772c34ffeb98ad8d3c -->

---

## 🚀 新功能：支持阿里云OSS

### 变更摘要

本次提交带来了对阿里云OSS（Object Storage Service）的全面支持，极大地扩展了应用的存储解决方案能力。我们不仅引入了新的`ali-oss`依赖，还进行了深度的代码重构，以适应不同存储类型的文件操作需求。同时，我们还对设置页面进行了优化，使其能够方便地添加和管理OSS配置，从而显著提升了用户体验。

#### 主要变更点：

*   **引入阿里云OSS支持 (`ali-oss`)**:
    *   通过在`electron.vite.config.js`中添加`ali-oss`到`external`依赖，确保了应用能够加载并使用阿里云OSS客户端库。
    *   在`electron/main/index.js`中引入了`ali-oss`模块，为后续的OSS操作提供了基础。

*   **重构文件处理逻辑**:
    *   对`electron/main/index.js`中的文件处理代码进行了重构，使其能够根据不同的存储类型（目前支持R2和OSS）执行相应的操作。
    *   优化了数据迁移逻辑，将旧版基于`settings`的配置结构迁移到新的`profiles`结构中，并支持OSS类型的配置。

*   **优化设置页面**:
    *   对设置页面进行了改进，使其能够添加、管理和切换不同的OSS配置。
    *   提供了测试连接功能，允许用户验证其OSS配置是否正确。

#### 分类和图标:

*   `🆕 新功能`: 引入阿里云OSS支持，重构文件处理逻辑以支持不同存储类型。
*   `✨ 功能优化`: 优化设置页面以支持OSS配置的添加和管理，提升用户体验。

### 代码变更亮点

*   **`electron.vite.config.js`**:
    *   添加了`ali-oss`到`external`依赖，确保了应用能够正确加载OSS客户端库。

*   **`electron/main/index.js`**:
    *   引入了`ali-oss`模块，为后续的OSS操作提供了基础。
    *   重构了数据迁移逻辑，将旧版基于`settings`的配置结构迁移到新的`profiles`结构中，并支持OSS类型的配置。
    *   实现了测试连接功能，允许用户验证其OSS配置是否正确。

通过这些变更，我们不仅为应用增加了对阿里云OSS的支持，还提升了应用的灵活性和用户体验。用户现在可以轻松地配置和管理OSS存储，并验证其配置是否正确，从而更加高效地使用应用。
<!-- 2f96d3b at https://github.com/JiQingzhe2004/R2APP/commit/2f96d3b346b3afdc4b1e3cb8b16314f763fccd8d -->

---

## 🚀 通知功能整合与用户体验提升

本次提交对应用的通知系统进行了全面整合，并优化了相关组件以提升用户体验。通过引入通知上下文管理，我们实现了对应用内通知的精细化控制，并在多个关键页面集成了通知反馈机制。

### 🆕 新功能
- **通知上下文管理**: 新增了 `NotificationProvider` 和 `useNotifications` 钩子，为应用内通知提供了统一的上下文管理机制。
- **通知集成**: 在文件、下载、上传和设置页面中集成了通知反馈，确保用户在关键操作后能及时收到反馈。
- **头部组件更新**: 更新了 `Header` 组件以显示通知，并支持清除和标记已读功能。

### ✨ 功能优化
- **通知显示优化**: 使用 `Toaster` 和 `toast` 功能，对通知的显示进行了优化，支持不同类型的通知（成功、错误、信息）。
- **通知交互增强**: 在 `Header` 组件中添加了通知图标，支持点击查看最新通知、标记所有为已读和清除所有通知的功能。
- **通知时间显示**: 新增了 `timeAgo` 函数，用于显示通知的相对时间，提升用户体验。

### 🐞 Bug修复
- **通知状态管理**: 修复了通知状态管理的问题，确保通知的添加、读取和清除功能正常工作。
- **组件渲染问题**: 修复了 `Header` 组件在通知状态变化时的渲染问题，确保通知图标和数量正确显示。

通过这些改进，应用的通知系统变得更加完善和用户友好，提升了整体的用户体验。
<!-- c89346c at https://github.com/JiQingzhe2004/R2APP/commit/c89346c844e2c23adc30595f95d76cfe26def236 -->

---

## 🛠️ 调整主窗口尺寸与界面优化

本次提交主要针对应用的界面进行了两项关键调整，旨在提升用户体验和视觉吸引力：

*   **主窗口尺寸调整**: 将主窗口的尺寸从原有的 `900x670` 调整为更宽敞的 `1200x800`。这一变更将提供更大的工作空间，使用户在多任务处理或查看复杂内容时拥有更佳的视觉体验。**更宽敞的界面意味着更高效的工作流**，尤其对于需要频繁参考详细数据或进行多屏对比的用户来说，这一改进将带来显著便利。

*   **应用图标新增**: 针对Linux平台，我们新增了应用图标 (`icon.ico`)。此前，Linux版本的应用图标为空，导致界面辨识度不足。现在，统一的图标将使应用在任务栏和菜单中更加醒目，**增强品牌识别度，并提升整体界面的专业感**。

### 分类:
`✨ 功能优化`
<!-- 1a95b7b at https://github.com/JiQingzhe2004/R2APP/commit/1a95b7ba2bd850459ab94df32f6051e77315b700 -->

---

## 🛠️ 下载管理功能优化

本次提交对下载管理功能进行了全面的优化，重点重构了下载任务的状态管理，并引入了更精细的下载进度更新与错误处理机制。同时，更新了设置获取逻辑以支持活动配置文件，并清理了不再使用的预加载文件，提升了应用的整洁性和稳定性。

### 变更摘要

我们深入优化了下载管理系统的核心架构，使其更加健壮和用户友好。以下是本次变更的主要内容：

- **🆕 新功能** | **下载任务状态管理重构**  
  通过引入更完善的下载任务状态管理机制，系统现在能够更清晰地追踪每个任务的进度、速度和状态（如：`starting`, `downloading`, `completed`, `error`）。这使得用户可以实时了解下载情况，并在出现问题时获得更准确的反馈。

- **✨ 功能优化** | **下载进度与错误处理增强**  
  我们增强了下载进度更新逻辑，确保在下载过程中能够以合理的频率（每500毫秒）发送进度事件，从而提供更流畅的用户体验。此外，错误处理机制也得到了改进，现在能够更准确地捕获并传递S3客户端初始化失败、文件写入错误等异常情况，确保用户在遇到问题时能够收到明确的错误提示。

- **✨ 功能优化** | **设置获取逻辑更新**  
  为了更好地支持多配置文件场景，我们更新了设置获取逻辑，使其能够根据当前活动的配置文件动态调整下载行为。这一改进使得应用在不同环境下（如开发、测试、生产）的适配性更强。

- **🐞 Bug修复** | **删除不再使用的预加载文件**  
  通过清理不再使用的预加载文件，我们减少了应用的冗余负担，优化了资源占用，并提升了启动速度。这一步骤有助于保持代码库的整洁，降低维护成本。

### 整体影响

这些优化不仅提升了下载功能的可靠性和用户体验，还为应用的长远发展奠定了更坚实的基础。通过更精细的状态管理和错误处理，用户可以更安心地进行文件下载，而开发者则可以更轻松地扩展和维护相关功能。

我们相信，这些改进将为用户带来更稳定、更高效的下载体验，同时也为未来的功能迭代铺平了道路。
<!-- 23c5f93 at https://github.com/JiQingzhe2004/R2APP/commit/23c5f9352c9e4caea7b8dfc2ab487e7b1c75c45e -->

---

## 🚀 更新依赖项与核心功能增强

本次提交带来了多方面的改进，旨在提升应用的稳定性、用户体验和功能完整性。以下是本次变更的详细内容：

### 变更摘要

*   **依赖项升级**: 我们将 `lucide-react` 库从 `^0.378.0` 升级至 `^0.525.0`，以利用最新的图标资源和性能优化。这将有助于提升UI组件的视觉效果和渲染效率。
*   **应用信息获取**: 在主进程中新增了 `get-app-info` 功能，允许前端组件动态获取应用的核心信息，包括名称、版本、作者、许可证等。这一改进将简化应用信息的配置和管理。
*   **关于页面新增**: 我们引入了一个全新的 `About` 页面，用户可以通过 `/about` 路径访问。该页面优雅地展示了应用的完整信息，包括：
    *   应用名称与标志
    *   版本号
    *   作者信息
    *   许可证详情
    *   项目GitHub仓库链接
*   **组件适配更新**: 侧边栏和头部组件已更新，以无缝支持新功能。特别是头部组件的图标已替换为更符合应用风格的 `Shield` 系列（`ShieldEllipsis`、`ShieldCheck`、`ShieldX`），而侧边栏则新增了“关于应用”的导航项。

### 分类和图标

*   `🆕 新功能`: 新增 `About` 页面与应用信息获取功能。
*   `✨ 功能优化`: 升级 `lucide-react` 以提升图标渲染效果；更新组件以支持新功能。
*   `🐞 Bug修复`: 无明确修复项，但依赖升级可能间接修复了已知问题。
*   `其他`: 包含应用信息获取接口的实现。

### 核心价值

通过这些改进，我们不仅提升了应用的功能丰富度，还增强了用户对应用信息的获取途径，同时优化了UI组件的视觉效果。这些变更共同推动了应用的现代化和用户体验的持续提升。
<!-- a14aef5 at https://github.com/JiQingzhe2004/R2APP/commit/a14aef53658ba41cb012d6f4602a8a9192865482 -->

---

## 🚀 添加窗口控制功能

本次更新为应用程序带来了强大的窗口管理能力，包括最小化、最大化和关闭窗口的功能。同时，我们对头部组件进行了更新，以集成这些新的窗口控制按钮。此外，为了提升界面的视觉效果，我们还新增了黑白LOGO图标，让用户可以根据不同的主题或偏好选择合适的LOGO。

### 变更摘要

*   **🆕 新功能**: 我们引入了完整的窗口控制功能，允许用户通过点击控制按钮来最小化、最大化或关闭应用程序窗口。这大大增强了用户对应用程序窗口管理的灵活性。
*   **✨ 功能优化**: 头部组件现在集成了窗口控制按钮，使得用户可以更方便地访问这些功能。我们优化了按钮的布局和样式，使其更加美观和易于使用。
*   **✨ 功能优化**: 为了增强界面的视觉效果，我们新增了黑白LOGO图标。这些图标可以根据当前的主题自动切换，为用户提供了更加个性化的体验。

### 代码变更说明

*   **electron/main/index.js**: 添加了窗口控制的相关配置和IPC处理程序，以支持最小化、最大化和关闭窗口的功能。
*   **electron/preload/index.mjs**: 添加了窗口控制的相关API，使得前端可以调用这些功能。
*   **src/components/header.jsx**: 更新了头部组件，集成了窗口控制按钮，并优化了按钮的样式和布局。
*   **src/components/sidebar.jsx**: 添加了黑白LOGO图标，并根据当前主题自动切换显示。

这些变更不仅提升了用户体验，还增强了应用程序的可用性和美观性。我们相信，这些更新将为用户带来更加流畅和愉悦的使用体验。
<!-- f3b89d6 at https://github.com/JiQingzhe2004/R2APP/commit/f3b89d60afd23c38540eb9f84b4f0b1af005161a -->

---

## 🚀 新功能：R2存储配置管理功能

本次更新带来了全新的R2存储配置管理功能，极大地提升了用户在云存储方面的灵活性和便捷性。我们不仅实现了配置文件的添加、删除和切换，还对设置页面的保存逻辑进行了优化，并引入了单选框组件以显著改善用户体验。此外，我们还更新了相关组件以全面支持这些新功能。

### 🆕 新功能
- **R2存储配置管理**: 用户现在可以轻松地添加、删除和切换R2存储配置，使得在不同环境下的切换变得前所未有的简单。
- **设置页面保存逻辑优化**: 保存设置时的逻辑得到了优化，确保数据的准确性和稳定性。
- **单选框组件新增**: 通过引入单选框组件，用户界面更加直观，操作体验得到显著提升。
- **相关组件更新**: 为了支持新功能，我们对多个相关组件进行了更新，确保整个系统的协调性和一致性。

### ✨ 功能优化
- **用户体验改善**: 新增的单选框组件不仅使界面更加美观，也使得用户在配置存储时更加容易理解和操作。
- **数据迁移支持**: 为了确保老用户能够顺利过渡到新的配置管理系统中，我们添加了数据迁移功能，自动将旧配置转换为新的结构，并设置默认配置。

### 🐞 Bug修复
- **数据保存问题修复**: 之前的保存逻辑存在一些问题，导致数据可能无法正确保存。本次更新修复了这些问题，确保用户配置的数据能够被稳定保存。

通过这些更新，我们不仅增强了应用的功能性，也提升了用户的使用体验。我们相信，这些改进将为用户带来更加高效和便捷的云存储管理体验。
<!-- 1eba83a at https://github.com/JiQingzhe2004/R2APP/commit/1eba83a27b518e5e1f88c4612242c7c2adc51b75 -->

---

## 🚀 添加R2存储连接状态检查功能

本次更新为应用带来了多项重要改进，旨在提升用户体验和系统稳定性。以下是本次提交的详细变更内容：

### 变更摘要

我们引入了R2存储连接状态检查功能，确保用户可以实时了解其存储账户的连接状态。这一功能通过以下方式实现：

- **新增连接状态检查接口**: 在 `electron/main/index.js` 中，我们添加了 `check-r2-status` 接口，用于验证R2存储账户的连接状态。该接口会检查用户配置的 `accountId`、`accessKeyId`、`secretAccessKey` 和 `bucketName` 是否完整，并尝试通过发送 `HeadBucketCommand` 来确认连接有效性。

- **更新预加载脚本**: 在 `electron/preload/index.mjs` 中，我们更新了 `api` 对象，新增了 `checkR2Status` 方法，以便前端组件可以调用此接口获取连接状态。

- **优化设置页面保存功能**: 虽然具体的优化细节未在diff中明确展示，但我们可以推断此次更新可能涉及了对设置页面保存逻辑的改进，以提供更稳定和可靠的保存体验。

- **新增Tooltip组件**: 为了提升用户体验，我们引入了 `@radix-ui/react-tooltip` 组件。这一组件将用于在界面中提供更清晰、更直观的提示信息，帮助用户更好地理解各项功能。

### 分类和图标

- `🆕 新功能`: 添加了R2存储连接状态检查功能，以及 `@radix-ui/react-tooltip` 组件。
- `✨ 功能优化`: 优化了设置页面保存功能。
- `🐞 Bug修复`: 未明确提及，但可能包含了对现有功能的稳定性改进。

### 整体影响

这些变更将显著提升应用的可靠性和用户友好性。用户现在可以更方便地监控其R2存储账户的连接状态，而优化的设置页面保存功能将确保用户配置的持久性和一致性。此外，新增的Tooltip组件将为用户提供更清晰的界面指引，从而改善整体使用体验。
<!-- 1a7daa7 at https://github.com/JiQingzhe2004/R2APP/commit/1a7daa75a3aabaae5ff706dfaf37009fdc72eaab -->

---

## 🚀 新功能：搜索对话框功能

本次更新为应用带来了全新的搜索对话框功能，并全面优化了文件页面的搜索逻辑。我们不仅调整了文件列表和搜索结果的显示方式，还改进了删除确认提示信息，旨在为用户提供更流畅、更直观的搜索体验。

### 变更摘要

-   **🆕 新功能**：添加了搜索对话框功能，允许用户在文件页面中快速搜索文件。
-   **✨ 功能优化**：优化了文件页面的搜索逻辑，提升了搜索的准确性和响应速度。
-   **✨ 功能优化**：调整了文件列表和搜索结果的显示方式，使其更加清晰和易用。
-   **🐞 Bug修复**：改进了删除确认提示信息，确保用户在删除文件前能够得到明确的确认提示。

### 代码变更详情

#### `App.jsx`

-   添加了 `isSearchDialogOpen` 状态，用于控制搜索对话框的显示。
-   在 `Header` 组件中，添加了 `onSearchClick` 事件处理函数，用于打开搜索对话框。
-   修改了 `FilesPage` 路由，使其能够接收 `isSearchOpen` 和 `onSearchOpenChange` 参数。

#### `header.jsx`

-   引入了 `TextSearch` 图标，用于搜索按钮。
-   根据当前路径，决定是否显示搜索按钮。
-   添加了搜索按钮的样式和交互效果。

#### `dialog.jsx`

-   调整了 `DialogContent` 的最大宽度，使其更适合搜索对话框的显示。

#### `Files.jsx`

-   添加了 `isSearchOpen` 和 `onSearchOpenChange` 状态，用于控制搜索对话框的显示。
-   修改了搜索逻辑，使其能够在用户关闭搜索对话框时重置搜索状态。
-   优化了搜索结果的显示方式，使其更加清晰和易用。
-   改进了删除确认提示信息，确保用户在删除文件前能够得到明确的确认提示。

### 总结

通过本次更新，我们为应用添加了强大的搜索功能，并优化了相关的用户体验。这些改进将帮助用户更高效地管理和查找文件，提升整体使用满意度。
<!-- 5ba7e66 at https://github.com/JiQingzhe2004/R2APP/commit/5ba7e660427fe2174b572bdefe77dd2ff51ee49f -->

---

## 🚀 依赖更新与功能增强

本次提交带来了多方面的改进，旨在提升应用的稳定性和用户体验。我们不仅更新了关键依赖项，还引入了文件搜索功能，并对文件列表加载逻辑进行了优化。此外，删除确认提示和搜索结果提示信息也得到了改进，使操作更加直观和安全。

### 变更摘要

#### 🆕 新功能
- **文件搜索功能**：现在用户可以轻松搜索文件，快速定位所需内容。这一功能极大地提升了应用的实用性，特别是在处理大量文件时。
- **搜索结果提示信息**：优化了搜索结果的提示信息，使其更加清晰和用户友好，帮助用户更快地理解搜索结果。

#### ✨ 功能优化
- **文件列表加载逻辑优化**：对文件列表加载逻辑进行了优化，提高了加载速度和响应性，使用户体验更加流畅。
- **删除确认提示改进**：改进了删除确认提示，增加了额外的安全确认步骤，防止用户误删重要文件。

#### 🐞 Bug修复
- **依赖项更新**：更新了多个依赖项，修复了潜在的安全漏洞和兼容性问题，确保应用的稳定性和安全性。

#### 其他
- **依赖项更新**：更新了 `@radix-ui/react-dialog` 和其他相关依赖项，以利用最新的功能和性能改进。

### 分类和图标

- **新功能**：🆕 文件搜索功能、搜索结果提示信息改进
- **功能优化**：✨ 文件列表加载逻辑优化、删除确认提示改进
- **Bug修复**：🐞 依赖项更新
- **其他**：依赖项更新

通过这些改进，我们确保应用不仅功能更强大，而且更加稳定和用户友好。感谢所有贡献者的努力，让我们一起推动应用不断进步！
<!-- aab3f96 at https://github.com/JiQingzhe2004/R2APP/commit/aab3f96c5dca6d322e3f2335f804f24269403e1a -->

---

## 🚀 更新依赖项并增强文件管理功能

本次提交带来了多项重要更新，旨在提升应用的稳定性和用户体验。我们不仅优化了核心依赖项，还引入了全新的下载管理页面，并对文件上传和下载功能进行了全面改进。以下是本次变更的详细内容：

### ✨ 功能优化
- **依赖项更新**: 升级了关键依赖库，增强了应用的性能和安全性。这些更新将有助于长期维护和未来功能的扩展。
- **文件上传优化**: 改进了文件上传流程，引入了分片上传机制，支持大文件的高效上传。新增了上传进度实时反馈，让用户清晰掌握上传状态。
- **下载任务管理**: 实现了完整的下载任务管理系统，包括任务状态跟踪（开始、下载中、完成、错误）、进度监控和速度显示。用户可以实时了解下载进度，并得到状态变更通知。
- **文件类型图标和描述**: 为文件列表添加了类型图标和描述，提升了文件的可识别性和易用性。

### 🐞 Bug修复
- **下载冲突处理**: 修复了下载文件名冲突的问题，通过时间戳和原文件名组合生成唯一文件路径，确保下载文件不会覆盖已有文件。
- **错误处理增强**: 优化了上传和下载过程中的错误处理，确保用户在遇到问题时能获得清晰的错误提示。

### 🆕 新功能
- **下载管理页面**: 新增了下载管理页面，用户可以查看所有下载任务的状态、进度和速度。支持取消任务和清除已完成任务，提供了更完善的下载控制能力。
- **文件显示逻辑改进**: 优化了文件页面的显示逻辑，使文件列表更加清晰易读。新增的文件类型图标和描述功能，进一步提升了用户体验。

这些变更将显著提升用户在文件管理方面的效率和体验，同时增强了应用的稳定性和可维护性。我们相信这些改进将为用户带来更加流畅和可靠的使用体验。
<!-- ca00387 at https://github.com/JiQingzhe2004/R2APP/commit/ca00387ae115afc12e8c76c3554ff54675a9b43b -->

---

## 🚀 更新依赖项与功能增强

本次提交带来了多方面的改进，旨在提升用户体验和应用的稳定性。以下是本次变更的详细内容：

### **变更摘要**

*   **添加 `sonner` 库**: 引入 `sonner` 库以增强应用内的通知系统，提供更丰富的反馈机制。
*   **注册 F5 快捷键**: 在主进程中注册 F5 快捷键，支持快速刷新窗口，提升操作效率。
*   **改进侧边栏折叠功能**: 优化侧边栏的折叠逻辑，支持更平滑的过渡效果和更灵活的界面布局。
*   **优化文件页面加载逻辑**: 调整文件页面的加载参数，提升数据加载速度和显示性能。
*   **设置页面添加 Toast 通知**: 在设置页面集成 `sonner` 的 Toast 通知功能，用于反馈连接和保存状态，增强用户交互体验。

### **分类和图标**

-   `🆕 新功能`: 添加 `sonner` 库，注册 F5 快捷键，设置页面 Toast 通知。
-   `✨ 功能优化`: 侧边栏折叠功能改进，文件页面加载和显示逻辑优化。

### **详细说明**

#### **🆕 新功能**

1.  **添加 `sonner` 库**
    *   引入 `sonner` 库作为应用的通知组件，替代原有的通知方式。
    *   `sonner` 提供更丰富的通知样式和更灵活的配置选项，提升用户体验。
    *   安装版本：`^2.0.6`

2.  **注册 F5 快捷键**
    *   在主进程中注册 F5 快捷键，用于刷新当前窗口。
    *   当用户按下 F5 时，应用会自动刷新页面内容，方便用户快速查看最新数据。
    *   同时，在应用退出时取消所有注册的快捷键，避免潜在的冲突。

3.  **设置页面添加 Toast 通知**
    *   在设置页面中集成 `sonner` 的 Toast 通知功能。
    *   当用户执行连接或保存操作时，通过 Toast 通知提供即时反馈。
    *   Toast 通知支持自定义样式和位置，提升用户交互体验。

#### **✨ 功能优化**

1.  **侧边栏折叠功能改进**
    *   优化侧边栏的折叠逻辑，支持更平滑的过渡效果。
    *   折叠后的侧边栏只显示图标，节省空间并提升界面简洁性。
    *   通过 `useState` 钩子管理侧边栏的折叠状态，实现更灵活的交互。

2.  **文件页面加载和显示逻辑优化**
    *   调整文件页面的加载参数，减少初始加载时间。
    *   优化数据展示逻辑，提升页面响应速度和性能。
    *   调整 `ListObjectsV2Command` 的 `MaxKeys` 参数，默认显示 30 条数据，提升用户体验。

#### **其他**

*   更新 `package-lock.json` 和 `package.json` 文件，记录新增的依赖项。
*   更新 `src/App.jsx` 和 `src/components/sidebar.jsx` 文件，集成新的功能和优化。

通过本次提交，应用的功能和用户体验得到了显著提升，为用户提供了更高效、更便捷的操作体验。
<!-- 367d89f at https://github.com/JiQingzhe2004/R2APP/commit/367d89f63d2af19eba08e01d7fb1b23ed5490c6f -->

---

## 🐞 Bug修复

本次提交主要针对 **R2 存储资源管理器** 应用程序进行了关键的 Bug 修复，解决了应用程序在开发环境下能够正常运行，但在构建后无法使用的问题。这一修复确保了应用程序在不同环境下的稳定性和可用性，提升了用户体验和部署的可靠性。

### 变更摘要

我们遇到了一个棘手的问题：应用程序在开发模式下一切正常，但在构建后却无法启动。经过深入排查，我们发现这是由于构建过程中某些配置和环境差异导致的。具体来说，问题出在以下几个方面：

1. **构建路径问题**：构建后的应用程序无法正确找到 `index.html` 和其他必要资源文件。
2. **环境隔离问题**：构建后的环境与开发环境存在差异，导致某些依赖无法正常加载。
3. **资源加载问题**：在构建后的环境中，应用程序无法正确加载静态资源，导致无法正常运行。

为了解决这些问题，我们进行了以下改进：

- **添加 `.gitignore` 配置**：将 `node_modules`、`.vscode`、`out`、`dist` 和 `release` 目录添加到 `.gitignore` 中，避免将这些不必要的文件提交到版本库，保持代码库的整洁。
- **创建 `README.md` 文档**：详细介绍了应用程序的功能、安装和运行步骤，方便用户快速上手。
- **改进 `electron.vite.config.js` 配置**：优化了 Electron 和 Vite 的配置，确保构建后的应用程序能够正确加载资源。
- **增强 `electron/main/index.js` 代码**：添加了详细的调试日志，帮助排查构建后的问题。同时，改进了资源加载逻辑，确保构建后的应用程序能够正确找到并加载所有必要文件。

通过这些改进，我们确保了应用程序在构建后能够正常运行，解决了之前版本中存在的问题。这一修复不仅提升了应用程序的稳定性，还增强了用户体验。

### 分类和图标

- `🐞 Bug修复`

### 整体要求

所有内容均为纯粹的 Markdown 文本，没有外层包裹，符合输出要求。
<!-- 860c023 at https://github.com/JiQingzhe2004/R2APP/commit/860c023f2ccd8321c602da0d7cf5a28014ffb378 -->